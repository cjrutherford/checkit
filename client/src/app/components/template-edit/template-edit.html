<div class="modal-backdrop" (click)="onCancel()" (keydown)="onCancel()"></div>
<div class="modal">
  <div class="form-container">
    <div class="content-card">
      <h2>Checklist Template</h2>
      <form [formGroup]="templateForm" (ngSubmit)="onSave()">
        <div class="form-group">
          <label for="templateName">Template Name:</label>
          <input
            id="templateName"
            formControlName="title"
            placeholder="Enter template name"
          />
        </div>
        <div class="form-group">
          <label for="templateDescription">Description:</label>
          <textarea
            id="templateDescription"
            formControlName="description"
            placeholder="Enter template description"
          ></textarea>
        </div>
        <div class="form-group">
          <label for="order">Ordering Matters?</label>
          <input
            id="order"
            type="checkbox"
            class="slide-toggle"
            formControlName="order"
          />
        </div>
        <div formArrayName="tasks">
          <div
            *ngFor="let task of tasks.controls; let i = index"
            style="margin-bottom: 1em"
            class="task-item"
          >
            <input [formControlName]="i" placeholder="Task Name" />
            <button type="button" (click)="removeTask(i)">Remove</button>
          </div>
        </div>
        <button type="button" (click)="addTask()">Add Task</button>
        <button type="submit" [disabled]="templateForm.invalid">Save</button>
        <button type="button" (click)="onCancel()">Cancel</button>
      </form>
    </div>
  </div>
</div>
